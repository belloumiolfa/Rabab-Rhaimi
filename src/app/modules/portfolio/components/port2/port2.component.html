<!-- awards -->
<section id="portfolio">
    <div class="container mil-portfolio mil-p-120-60">
      <div class="mil-lines-place"></div>
      <div class="mil-lines-place mil-lines-long"></div>
  
      <div class="row justify-content-between align-items-center">
  
        <!-- BOUTON AJOUT EN HAUT À DROITE -->
        <div class="col-12 mb-3" *ngIf="isAdmin">
          <div class="d-flex justify-content-end">
            <div class="mil-portfolio-item d-flex align-items-center" style="cursor: pointer;" (click)="openAdd()">
              <h1 style="font-size: 20px; color: #aaa; margin: 0;">+ Ajouter une récompense</h1>
            </div>
          </div>
        </div>
  
        <!-- LISTE DYNAMIQUE DES RÉCOMPENSES -->
        <div class="row g-4">
          <div class="col-lg-6 col-md-6" *ngFor="let award of awards">
            <div class="mil-portfolio-item mil-more mil-parallax mil-mb-60 mil-hover-parent">
              <div class="mil-cover-frame mil-hori mil-up">
                <div class="mil-cover mil-up">
                  <img
                    [src]="award.image_url"
                    alt="award"
                  />
                </div>
  
                <!-- BOUTONS ADMIN -->
                <div class="mil-overlay" *ngIf="isAdmin" style="position: absolute; top: 10px; right: 10px;">
                  <button class="btn btn-sm btn-warning me-2" (click)="openEdit(award)">Modifier</button>
                  <button class="btn btn-sm btn-danger" (click)="deleteAward(award.id)">Supprimer</button>
                </div>
              </div>
  
              <div class="mil-descr">
                <div class="mil-labels mil-up mil-mb-15"></div>
                <h4 class="mil-up">{{ award.title }}</h4>
              </div>
            </div>
          </div>
        </div>
  
      </div>
    </div>
  </section>
  
  <!-- awards end -->
  


  <!-- MODALE -->
<div class="modal fade show" tabindex="-1" [ngStyle]="{ display: showModal ? 'block' : 'none' }" *ngIf="showModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content shadow-lg rounded-4">
        <div class="modal-header bg-warning bg-opacity-75">
          <h5 class="modal-title">{{ isEdit ? 'Modifier' : 'Ajouter' }} une récompense</h5>
          <button class="btn-close" (click)="closeModal()"></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="form">
            <div class="mb-3">
              <label class="form-label">Titre</label>
              <input type="text" class="form-control" formControlName="title" />
            </div>
            <div class="mb-3">
              <label class="form-label">Image</label>
              <input type="file" class="form-control" (change)="onFileChange($event)" />
              <img *ngIf="previewUrl" [src]="previewUrl" class="img-thumbnail mt-2" style="max-height: 200px;" />
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" (click)="closeModal()">Annuler</button>
          <button class="btn btn-warning" [disabled]="form.invalid" (click)="saveAward()">
            {{ isEdit ? 'Mettre à jour' : 'Ajouter' }}
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-backdrop fade show" *ngIf="showModal"></div>